# Терминал quik в docker под wine
Данная сборка позволяет запускать торговый терминал quik под докером черех wine с доступом по VNC. 
В сборке работают скрипты lua и поддерживается аутентификация по ключам.
Данная сборка тестировалась и работает на ОС Linux (Debian).

## Установка
1. Уставите на компьютер docker
2. Склонируйте код сборки `git clone https://github.com/gojmpz/quik-wine-docker.git`
3. Запустите `./build.sh`

## Отредактируйте параметры запуска терминала
Отредактируйте параметры запуска терминала в ./run.sh:
1. DISPLAY_RESOLUTION='1600x1000x24': размер виртуального дисплея
2. ENABLE_VNC='1': запустить VNC?
3. VNC_PASSWORD='qweasd': пароль для доступа по VNC 
4. QUIK_LOGIN='quik_login': логин для терминала quik
5. QUIK_PASSWORD='quik_password': пароль для терминала quik
6. WAIT_BEFORE_LOGIN='60s': время ожидания загрузки терминала, перед тем как вводить логин и пароль. Зависит от настроек вашего терминала и объёма данных.

## Запуск терминала
1. Скопируйте свои ключи от терминала в ./quik_key
2. Скопируйте свои скрипты lua в ./lua_scripts
3. Настройте свой терминал так, чтобы после запуска он открывал окно подключения к брокеру. Не должно выводиться никаких вопросов и предупреждений, которые требуют действий от пользователя.
4. Опционально скопируйте настройки, например info.wnd, в ./quik_config.
5. Скопируйте свой настроенный терминал quik в ./quik
```
./run.sh
```
## Доступ по VNC
Установите программу для доступа по vnc, например gvncviewer
```
gvncviewer localhost
```
Если терминал запущен на другой машине, то надо открыть порт 5900 на удалённой машине.
Если хотите изменить порт доступа, то отредактируйте его в run.sh

## Остановка терминала

Если закрыть терминал quik через vnc, то docker закроется вслед за терминалом.
Из консоли докер можно остановить командой `docker stop quik` или скриптом:
```
./stop.sh
```
